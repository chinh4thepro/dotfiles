# Sheepy's Polybar Configuration
#
# Heavily "inspired" from
# https://www.reddit.com/r/unixporn/comments/5ghib0/i3gapspolybar_im_in_love_eith_polybar_and_with/
# https://github.com/guisilvano/dotfiles/commit/257397f5f3090f9cd5c3691c6f6f1d4fc2a579a6#diff-f7ea45ce7d8937ed1b005fbf91b10ce471a8074573cb03f524d205ac7b11e734
#
# This file was based off of the forest-bitmap theme in https://github.com/adi1090x/polybar-themes
#

# Color config ====================================================================================
[color]
BG = #007b8aa3
BGA = #FFFFFF
FG = #FFFFFF
AC = #FFFFFF

WHITE = #FFFFFF
RED = #EC7875
GREEN = #61C766
YELLOW = #FDD835
PURPLE = #BA68C8
PINK = #EC407A
LIME = #B9C244

# Rules for the WM dealing with Polybar ===========================================================
[global/wm]
margin-bottom = 0

# Bar configuration ===============================================================================
[bar/main]
# Module placements
modules-left = cpu memory temperature
modules-center = date
modules-right = pulseaudio battery backlight
#modules-left = cpu memory temperature
#modules-center = date
#modules-right = pulseaudio wireless-network wired-network

# Fonts
# Unifont Upper is needed for the brightness icon
# Siji is needed for the volume icon
# Font Awesome is needed for the CPU, memory, temperature, date, battery, and WiFi icons
font-0 = Source Code Pro Medium:style=Medium,Regular:size=12
font-1 = Unifont Upper:style=Regular:size=12
font-2 = Font Awesome 6 Free Solid:style=Solid:size=12

# Colors
background = ${color.BG}
foreground = ${color.FG}
line-color = ${color.AC}

# Sizing and positioning
# The bar will have a 10px left and right margin, a 5px top margin, and a 10px bottom margin (see global/wm)
# There will be 2px of padding on the left and right sides of the bar
# Each module will have a 1px left and right margin
# And the bar will be on the top
width = 100%:-20
offset-x = 10
offset-y = 5
height = 30
padding = 2
module-margin-left = 1
module-margin-right = 1
fixed-center = true
line-size =0
bottom = false

# Tray
tray-position = none
tray-detached = false
tray-maxsize = 16

# Default click actions for modules
click-left = 
click-middle = 
click-right =
scroll-up =
scroll-down =
double-click-left =
double-click-middle =
double-click-right =

# Misc
dim-value = 1.0 # Used on fade in and out
wm-name = i3
wm-restack = i3
enable-ipc = true
monitor = ${env:MONITOR:}
override-redirect = true # Tells the WM to not mess with Polybar

[bar/external]
# Module placements
modules-left = cpu memory temperature
modules-center = date
modules-right = pulseaudio battery backlight
#modules-left = cpu memory temperature
#modules-center = date
#modules-right = pulseaudio wireless-network wired-network

# Fonts
# Unifont Upper is needed for the brightness icon
# Siji is needed for the volume icon
# Font Awesome is needed for the CPU, memory, temperature, date, battery, and WiFi icons
font-0 = Source Code Pro Medium:style=Medium,Regular:size=12
font-1 = Unifont Upper:style=Regular:size=12
font-2 = Font Awesome 6 Free Solid:style=Solid:size=12

# Colors
background = ${color.BG}
foreground = ${color.FG}
line-color = ${color.AC}

# Sizing and positioning
# The bar will have a 10px left and right margin, a 5px top margin, and a 10px bottom margin (see global/wm)
# There will be 2px of padding on the left and right sides of the bar
# Each module will have a 1px left and right margin
# And the bar will be on the top
width = 100%:-20
offset-x = 10
offset-y = 5
height = 30
padding = 2
module-margin-left = 1
module-margin-right = 1
fixed-center = true
line-size = 0
bottom = false

# Tray
tray-position = none
tray-detached = false
tray-maxsize = 16

# Default click actions for modules
click-left =
click-middle =
click-right =
scroll-up =
scroll-down =
double-click-left =
double-click-middle =
double-click-right =

# Misc
dim-value = 1.0 # Used on fade in and out
wm-name = i3
wm-restack = i3
enable-ipc = true
monitor = HDMI-1
override-redirect = true # Tells the WM to not mess with Polybar

# Other settings ==================================================================================
[settings]
# Throttling (in milliseconds)
throttle-output = 5
throttle-output-for = 10

# Compositing
compositing-background = source
compositing-foreground = over
compositing-overline = over
compositing-underline = over
compositing-border = over
pseudo-transparency = false

# Misc
screenchange-reload = false

#############
## Modules ##
#############

# Battery module ==================================================================================
[module/battery]
type = internal/battery

# Module configuration
battery = BAT0
adapter = ADP0
full-at = 99

# Animations
ramp-capacity-0 = ÔâÑ
ramp-capacity-1 = ÔâÇ
ramp-capacity-2 = ÔâÅ

animation-charging-framerate = 500 # In milliseconds
animation-charging-0 = ÔâÑ
animation-charging-1 = ÔâÉ
animation-charging-2 = ÔâÇ
animation-charging-3 = ÔâÅ
animation-charging-4 = ÔâÄ

# Display formats
format-charging = <animation-charging> <label-charging>
format-charging-underline = ${color.WHITE}

format-discharging = <ramp-capacity> <label-discharging>
format-discharging-underline = ${color.WHITE}

format-full = ÔâÄ  <label-full>
format-full-underline = ${color.WHITE}

# Internal temperature module =====================================================================
[module/temperature]
type = internal/temperature

# Module configuration
thermal-zone = 0
hwmon-path = /sys/devices/pci0000:00/0000:00:18.3/hwmon/hwmon3/temp1_input
warn-temperature = 80

# Animations
ramp-foreground = #555555
ramp-0 = Ôãâ
ramp-1 = Ôãà
ramp-2 = Ôãá

# Display formats
format = <label>
format-underline = ${color.WHITE}

format-warn = <label-warn>
format-warn-underline = ${color.WHITE}
format-warn-foreground = ${color.RED}
format-warn-padding = 1

# Labels
label = ÔÅ≠ %temperature%
label-warn = ÔÅ≠ %temperature%

# Wireless network module =========================================================================
[module/wireless-network]
type = internal/network

# Module configuration
interface = wlp29s0
interval = 1.0
accumulate-stats = true
#on-click-event = # Search for ON-CLICK-EVENT-POINTER and change the lines

# Animations
ramp-signal-foreground = ${color.PURPLE}
ramp-signal-0 = Óà†
ramp-signal-1 = Óà°
ramp-signal-2 = Óà°
ramp-signal-3 = Óà¢
ramp-signal-4 = Óà¢

# Display formats
format-connected =  Ôá´ <label-connected>
format-connected-underline = ${color.WHITE}

format-disconnected = <label-disconnected>
format-disconnected-prefix = "Óàõ "
format-disconnected-underline = ${color.RED}

# Labels

# Available tokens:
#   %ifname%    [wireless+wired]
#   %local_ip%  [wireless+wired]
#   %local_ip6% [wireless+wired]
#   %essid%     [wireless]
#   %signal%    [wireless]
#   %upspeed%   [wireless+wired]
#   %downspeed% [wireless+wired]

# ON-CLICK-EVENT-POINTER : Change both lines to what you want (...%{A1:<what you want here>:}...)
label-connected = "%{A1:networkmanager_dmenu &:}%essid%@%local_ip% %{A}"
label-disconnected = "%{A1:networkmanager_dmenu &:}No WiFi%{A}"

# Wired network module ===============================================================================
[module/wired-network]
type = internal/network

# Module configuration
interface = enp27s0
interval = 1.0
accumulate0-stats = true
on-click-event = # Search for ON-CLICK-EVENT-POINTER and change the lines

# Display formats
format-connected =  <label-connected>
format-connected-underline = ${color.WHITE}

# Labels

# Available tokens:
#   %ifname%    [wireless+wired]
#   %local_ip%  [wireless+wired]
#   %local_ip6% [wireless+wired]
#   %upspeed%   [wireless+wired]
#   %downspeed% [wireless+wired]
#   %linkspeed% [wired]

# ON-CLICK-EVENT-POINTER : Change the line to what you want (...%{A1:<what you want here>:}...)
label-connected = "%{A1:networkmanager_dmenu &:}wired@%local_ip% %{A}"

# CPU usage module ================================================================================
[module/cpu]
type = internal/cpu

# Module configuration
interval = 2

# Animations
# Actually, I decided not to use these animations.
# But, if you want to, they're here!
ramp-coreload-underline = ${color.WHITE}
ramp-coreload-0 = ‚ñÅ
ramp-coreload-1 = ‚ñÇ
ramp-coreload-2 = ‚ñÉ
ramp-coreload-3 = ‚ñÑ
ramp-coreload-4 = ‚ñÖ
ramp-coreload-5 = ‚ñÜ
ramp-coreload-6 = ‚ñá
ramp-coreload-7 = ‚ñà

# Display formats
format-label = internal/cpu

# Labels
label = %{F} ÔÇÖ %percentage%% %{F-}
label-underline = ${color.WHITE}

# Memory module ===================================================================================
[module/memory]
type = internal/memory

# Module configuration
interval = 2

# Labels
label = %{F} Ôãõ %percentage_used%% %{F-}
label-underline = ${color.WHITE}

# Date module =====================================================================================
[module/date]
type = internal/date

# Module configuration
interval = 1

# Date configuration

# 12 HR
date-alt = ÔÅ≥ %A ÔÄó %I:%M:%S %P
date = ÔÅ≥ %b/%d/%y ÔÄó %I:%M:%S %P
# 24 HR
#date-alt = ÔÅ≥ %A ÔÄó %H:%M:%S
#date = ÔÅ≥ %b/%d/%y ÔÄó %H:%M:%S

# Display formats
format-underline = ${color.WHITE}

# Backlight / brightness module ===================================================================
[module/backlight]
type = internal/backlight

# Module configuration
card = amdgpu_bl0

# Display formats
format = <label>

# Labels
label = üîÜ %percentage%%
label-underline = ${color.WHITE}

# Pulseaudio module ===============================================================================
[module/pulseaudio]
type = internal/pulseaudio

# Module configuration 
#sink = alsa_output.pci-0000_12_00.3.analog-stereo
sink = @DEFAULT_SINK@
interval = 5

# Animations
ramp-volume-foreground = ${color.WHITE}
ramp-volume-0 = ÔÄ¶
ramp-volume-1 = ÔÄß
ramp-volume-2 = ÔÄß
ramp-volume-3 = ÔÄß
ramp-volume-4 = ÔÄ®
ramp-volume-5 = ÔÄ®

# Display formats
format-volume = <ramp-volume> <label-volume>
format-volume-underline = ${color.WHITE}

format-muted-prefix = Ôö©
format-muted-prefix-underline = ${color.RED}

# Labels
label-muted = " sound is muted"
label-muted-underline = ${color.RED}
